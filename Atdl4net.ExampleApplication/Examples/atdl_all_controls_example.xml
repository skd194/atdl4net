<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<Strategies xmlns:lay="http://www.fixprotocol.org/FIXatdl-1-1/Layout" xmlns:val="http://www.fixprotocol.org/FIXatdl-1-1/Validation" xmlns:flow="http://www.fixprotocol.org/FIXatdl-1-1/Flow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" strategyIdentifierTag="8000" versionIdentifierTag="8001" changeStrategyOnCxlRpl="true" xmlns="http://www.fixprotocol.org/FIXatdl-1-1/Core" xsi:schemaLocation="http://www.fixprotocol.org/FIXatdl-1-1/Core Schema/fixatdl-core-1-1.xsd">
	<Strategy fixMsgType="D" name="UPDATE_FIX_VALUES_EXAMPLE" uiRep="Update Values Example" version="1.0" wireValue="UPDATE" providerID="CT_BROKER1"
          xmlns="http://www.fixprotocol.org/FIXatdl-1-1/Core"
          xmlns:lay="http://www.fixprotocol.org/FIXatdl-1-1/Layout"
          xmlns:val="http://www.fixprotocol.org/FIXatdl-1-1/Validation"
          xmlns:flow="http://www.fixprotocol.org/FIXatdl-1-1/Flow"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://www.fixprotocol.org/FIXatdl-1-1/Core Schema/fixatdl-core-1-1.xsd">

		<Regions>
			<Region name="TheAmericas" inclusion="Include"/>
			<Region name="AsiaPacificJapan" inclusion="Include"/>
			<Region name="EuropeMiddleEastAfrica" inclusion="Include"/>
		</Regions>

		<!-- Define two FIX parameters -->
		<Parameter fixTag="8002" name="MinCrossQty" use="optional" xsi:type="Qty_t" />
		<Parameter fixTag="8003" name="OrderQuantity" use="required" xsi:type="Qty_t" minValue="5"/>
	
		<!-- Layout with flow control (checkbox with no parameter) -->
		<lay:StrategyLayout>
			<lay:StrategyPanel collapsible="false" orientation="HORIZONTAL">
				<lay:StrategyPanel collapsible="false" orientation="VERTICAL">

					<!-- UI-only checkbox control to decide whether to enable MinCrossQty -->
					<lay:Control ID="EnableMinQtyCheckbox" label="Enable Min Cross Qty" xsi:type="lay:CheckBox_t"/>

					<!-- Order Qty input (FIX parameter) -->
					<lay:Control ID="c_OrderQty" label="Order Qty" parameterRef="OrderQuantity" increment="1" xsi:type="lay:SingleSpinner_t"/>

					<!-- MinCrossQty input (FIX parameter), disabled unless checkbox is checked -->
					<lay:Control ID="c_MinCrossQty" label="Min Cross Qty" parameterRef="MinCrossQty" increment="1" xsi:type="lay:SingleSpinner_t">
						<flow:StateRule enabled="false">
							<val:Edit field="EnableMinQtyCheckbox" operator="EQ" value="false"/>
						</flow:StateRule>
					</lay:Control>

					<!-- Info label -->
					<lay:Control ID="c_Label" label="Order Qty must not exceed FIX Order Quantity." xsi:type="lay:Label_t"/>

				</lay:StrategyPanel>
			</lay:StrategyPanel>
		</lay:StrategyLayout>

		<!-- Validation logic -->
		<val:StrategyEdit errorMessage="Order Qty cannot exceed FIX Order Qty.">
			<val:Edit logicOperator="OR">
				<val:Edit field="FIX_OrderQty" operator="NX"/>
				<val:Edit field="OrderQuantity" operator="NX"/>
				<val:Edit field="FIX_OrderQty" field2="OrderQuantity" operator="GE"/>
			</val:Edit>
		</val:StrategyEdit>
	</Strategy>

</Strategies>
